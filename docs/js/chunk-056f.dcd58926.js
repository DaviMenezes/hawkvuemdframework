(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-056f"],{"14b2":function(t,o,i){"use strict";i.d(o,"a",function(){return n}),i.d(o,"b",function(){return r});var a=i("bf48"),e=i.n(a),n=e.a.Object.extend("Categoria"),r=e.a.Object.extend("Produto")},5484:function(t,o,i){},"845d":function(t,o,i){"use strict";var a=i("5484"),e=i.n(a);e.a},b8bd:function(t,o,i){"use strict";i.r(o);var a=function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("div",[i("div",[i("h-table",{attrs:{title:"Categorias",columns:t.tableColumns,rows:t.registros,lineheight:"40px"},on:{onEditRow:t.editar}})],1),i("h-modal",{attrs:{title:"Criar Categoria"},model:{value:t.abrirModal,callback:function(o){t.abrirModal=o},expression:"abrirModal"}},[i("div",{staticClass:"flex flex-justify-center"}),i("div",{staticClass:"row",staticStyle:{width:"350px"}},[i("div",{staticClass:"row"},[i("h4",[t._v("Nome da Categoria:")])]),i("div",{staticClass:"row"},[i("h-input",{attrs:{value:"txtName","float-label":"Nome"},model:{value:t.form.nome,callback:function(o){t.$set(t.form,"nome",o)},expression:"form.nome"}})],1),i("div",{staticClass:"row h-pt-md flex flex-justify-center"},[i("h-btn",{attrs:{contained:"",text:"Criar"},on:{click:t.criarCategoria}}),i("h-btn",{staticClass:"h-pl-md",attrs:{contained:"",text:"Close"},on:{click:function(o){t.abrirModal=!1}}})],1)])]),i("h-btn-float",{staticClass:"bottom-right-fixed",staticStyle:{right:"18px",bottom:"18px"},attrs:{minifloat:"",icon:["fas","plus"],bgcolor:"bg-primary","text-color":"text-white"},on:{click:function(o){t.abrirModal=!0}}})],1)},e=[],n=(i("7514"),i("14b2")),r=i("5588"),s=i("9edf"),c=i("f160"),l=i("42d1"),m=i("379a"),f={components:{HTable:r["a"],HModal:s["a"],HBtn:c["a"],HBtnFloat:m["a"],HInput:l["a"]},data:function(){return{form:{id:0,nome:"",objectId:null},registros:[],modoLista:!0,colColor:"#3c294d",colunas:[],abrirModal:!1,tableColumns:[{name:"objectId",alignment:"right"},{name:"nome",alignment:"center"}]}},created:function(){this.listarCategorias()},mounted:function(){},methods:{novo:function(){this.limparForm(),this.modoLista=!1,this.abrirModal=!0},criarCategoria:function(){var t=this,o=new n["a"];o.set("nome",this.form.nome),o.save().then(function(o){var i=o.toJSON();i.object=o,t.registros.push(i),t.abrirModal=!1,t.modoLista=!0,t.limparForm()}).catch(function(o){t.$q.notify({message:"Nao foi possivel salvar: "+o.message,color:"negative",position:"bottom-left"})})},cancelar:function(){this.limparForm(),this.modoLista=!0},limparForm:function(){this.form.objectId=null,this.form.nome="",this.form.index=-1},editar:function(t){this.limparForm(),this.modoLista=!1,this.form.objectId=t.row.objectId,this.form.nome=t.row.nome,this.form.index=t.row_index,this.abrirModal=!0},salvarCategoria:function(){var t=this,o=n["a"].createWithoutData(this.form.objectId);o.set("nome",this.form.nome),o.save().then(function(o){t.registros[t.form.index].nome=t.form.nome,t.abrirModal=!1,t.modoLista=!0,t.limparForm()}).catch(function(o){t.$q.notify({message:"Nao foi possivel salvar: "+o.message,color:"negative",position:"bottom-left"})})},excluir:function(t){var o=this;t.object.destroy({success:function(t){o.listarCategorias()},error:function(t,o){this.$q.notify({message:"Error: "+o.message,color:"negative",position:"bottom-left"})}})},listarCategorias:function(){var t=this,o=this.$parse,i=new o.Query(n["a"]);i.ascending("nome"),i.find().then(function(o){for(var i=o.map(function(t){return t.toJSON()}),a=0;a<i.length;a++)t.registros.push({objectId:i[a].objectId,nome:i[a].nome})}).catch(function(t){console.log("erro: "+t)})}}},d=f,u=(i("845d"),i("2877")),h=Object(u["a"])(d,a,e,!1,null,null,null);o["default"]=h.exports}}]);
//# sourceMappingURL=chunk-056f.dcd58926.js.map