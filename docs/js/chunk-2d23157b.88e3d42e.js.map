{"version":3,"sources":["webpack:///./src/views/pages/test/Currency.vue?8be0","webpack:///./src/views/pages/test/currencyDirective/options.js","webpack:///./src/views/pages/test/currencyDirective/utils.js","webpack:///./src/views/pages/test/currencyDirective/assign.js","webpack:///./src/views/pages/test/currencyDirective/directive.js","webpack:///src/views/pages/test/Currency.vue","webpack:///./src/views/pages/test/Currency.vue?dfa6","webpack:///./src/views/pages/test/Currency.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","expression","precision","decimal","thousands","prefix","suffix","domProps","on","input","$event","target","composing","inputValue","onInput","staticClass","staticRenderFns","options","format","opt","arguments","length","undefined","defaults","toFixed","fixed","negative","indexOf","numbers","onlyNumbers","currency","numbersToCurrency","parts","toStr","split","integer","addThousandSeparator","joinIntegerAndDecimal","replace","between","min","n","max","Math","exp","pow","float","parseFloat","separator","concat","toString","setCursor","el","position","setSelectionRange","document","activeElement","setTimeout","event","evt","createEvent","initEvent","currencyDirective_assign","extras","Object","keys","reduce","acc","val","directive","binding","assign","tagName","toLocaleUpperCase","els","getElementsByTagName","oninput","positionFromEnd","selectionEnd","dispatchEvent","onfocus","Currencyvue_type_script_lang_js_","money","props","type","Number","default","String","data","mounted","methods","console","log","test_Currencyvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-2d23157b.88e3d42e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h-page-content',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.inputValue),expression:\"inputValue\"},{name:\"money\",rawName:\"v-money\",value:({ precision: _vm.precision, decimal: _vm.decimal, thousands: _vm.thousands, prefix: _vm.prefix, suffix: _vm.suffix }),expression:\"{ precision, decimal, thousands, prefix, suffix }\"}],domProps:{\"value\":(_vm.inputValue)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.inputValue=$event.target.value},function($event){return _vm.onInput($event.target.value)}]}}),_c('h-banner',{staticClass:\"h-mt-md\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default {\n  prefix: '',\n  suffix: '',\n  thousands: '.',\n  decimal: ',',\n  precision: 2\n}\n","import defaults from './options'\n\nfunction format (input, opt = defaults) {\n  if (typeof input === 'number') {\n    input = input.toFixed(fixed(opt.precision))\n  }\n  var negative = input.indexOf('-') >= 0 ? '-' : ''\n\n  var numbers = onlyNumbers(input)\n  var currency = numbersToCurrency(numbers, opt.precision)\n  var parts = toStr(currency).split('.')\n  var integer = parts[0]\n  var decimal = parts[1]\n  integer = addThousandSeparator(integer, opt.thousands)\n  return opt.prefix + negative + joinIntegerAndDecimal(integer, decimal, opt.decimal) + opt.suffix\n}\n\nfunction unformat (input, precision) {\n  var negative = input.indexOf('-') >= 0 ? -1 : 1\n  var numbers = onlyNumbers(input)\n  var currency = numbersToCurrency(numbers, precision)\n  return parseFloat(currency) * negative\n}\n\nfunction onlyNumbers (input) {\n  return toStr(input).replace(/\\D+/g, '') || '0'\n}\n\n// Uncaught RangeError: toFixed() digits argument must be between 0 and 20 at Number.toFixed\nfunction fixed (precision) {\n  return between(0, precision, 20)\n}\n\nfunction between (min, n, max) {\n  return Math.max(min, Math.min(n, max))\n}\n\nfunction numbersToCurrency (numbers, precision) {\n  var exp = Math.pow(10, precision)\n  var float = parseFloat(numbers) / exp\n  return float.toFixed(fixed(precision))\n}\n\nfunction addThousandSeparator (integer, separator) {\n  return integer.replace(/(\\d)(?=(?:\\d{3})+\\b)/gm, `$1${separator}`)\n}\n\n// function currencyToIntegerAndDecimal (float) {\n//   return toStr(float).split('.')\n// }\n\nfunction joinIntegerAndDecimal (integer, decimal, separator) {\n  return decimal ? integer + separator + decimal : integer\n}\n\nfunction toStr (value) {\n  return value ? value.toString() : ''\n}\n\nfunction setCursor (el, position) {\n  var setSelectionRange = function () { el.setSelectionRange(position, position) }\n  if (el === document.activeElement) {\n    setSelectionRange()\n    setTimeout(setSelectionRange, 1) // Android Fix\n  }\n}\n\n// https://developer.mozilla.org/en-US/docs/Web/Guide/Events/Creating_and_triggering_events#The_old-fashioned_way\nfunction event (name) {\n  var evt = document.createEvent('Event')\n  evt.initEvent(name, true, true)\n  return evt\n}\n\nexport {\n  format,\n  unformat,\n  setCursor,\n  event\n}\n","export default function (defaults, extras) {\n  defaults = defaults || {}\n  extras = extras || {}\n  return Object.keys(defaults).concat(Object.keys(extras)).reduce(function (acc, val) {\n    acc[val] = extras[val] === undefined ? defaults[val] : extras[val]\n    return acc\n  }, {})\n}\n","import { format, setCursor, event } from './utils'\nimport assign from './assign'\nimport defaults from './options'\n\nexport default function (el, binding) {\n  if (!binding.value) return\n  var opt = assign(defaults, binding.value)\n\n  // v-money used on a component that's not a input\n  if (el.tagName.toLocaleUpperCase() !== 'INPUT') {\n    var els = el.getElementsByTagName('input')\n    if (els.length !== 1) {\n      // throw new Error(\"v-money requires 1 input, found \" + els.length)\n    } else {\n      el = els[0]\n    }\n  }\n\n  el.oninput = function () {\n    var positionFromEnd = el.value.length - el.selectionEnd\n    el.value = format(el.value, opt)\n    positionFromEnd = Math.max(positionFromEnd, opt.suffix.length) // right\n    positionFromEnd = el.value.length - positionFromEnd\n    positionFromEnd = Math.max(positionFromEnd, opt.prefix.length + 1) // left\n    setCursor(el, positionFromEnd)\n    el.dispatchEvent(event('change')) // v-model.lazy\n  }\n\n  el.onfocus = function () {\n    setCursor(el, el.value.length - opt.suffix.length)\n  }\n\n  el.oninput()\n  el.dispatchEvent(event('input')) // force format after initialization\n}\n","<template>\n  <h-page-content>\n      <input\n         v-model=\"inputValue\"\n         @input=\"onInput($event.target.value)\"\n         v-money=\"{ precision, decimal, thousands, prefix, suffix }\"\n      />\n\n      <h-banner class=\"h-mt-md\">\n\n      </h-banner>\n\n  </h-page-content>\n</template>\n\n<script>\n\nimport money from './currencyDirective/directive'\nimport defaults from './currencyDirective/options'\n// import { format, unformat } from './currencyDirective/utils'\n\nexport default {\n  directives: { money },\n  props: {\n    precision: {\n      type: Number,\n      default: () => defaults.precision\n    },\n    decimal: {\n      type: String,\n      default: () => defaults.decimal\n    },\n    thousands: {\n      type: String,\n      default: () => defaults.thousands\n    },\n    prefix: {\n      type: String,\n      default: () => defaults.prefix\n    },\n    suffix: {\n      type: String,\n      default: () => defaults.suffix\n    }\n  },\n  data () {\n    return {\n      inputValue: '2345'\n    }\n  },\n  mounted () {\n    this.inputValue = '20000'\n  },\n  methods: {\n    onInput (value) {\n      console.log('value vale:', value)\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Currency.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Currency.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Currency.vue?vue&type=template&id=05c6fea2&\"\nimport script from \"./Currency.vue?vue&type=script&lang=js&\"\nexport * from \"./Currency.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}