(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-056f"],{"14b2":function(t,o,a){"use strict";a.d(o,"a",function(){return n}),a.d(o,"b",function(){return r});var i=a("bf48"),e=a.n(i),n=e.a.Object.extend("Categoria"),r=e.a.Object.extend("Produto")},5484:function(t,o,a){},"845d":function(t,o,a){"use strict";var i=a("5484"),e=a.n(i);e.a},b8bd:function(t,o,a){"use strict";a.r(o);var i=function(){var t=this,o=t.$createElement,a=t._self._c||o;return a("div",[a("div",[a("h-table",{attrs:{title:"Categorias",columns:t.tableColumns,rows:t.registros,lineheight:"40px"},on:{onEditRow:t.editar}})],1),a("h-modal",{attrs:{title:"Criar Categoria"},model:{value:t.abrirModal,callback:function(o){t.abrirModal=o},expression:"abrirModal"}},[a("div",{staticClass:"flex flex-justify-center"}),a("div",{staticClass:"row",staticStyle:{width:"350px"}},[a("div",{staticClass:"row"},[a("h4",[t._v("Nome da Categoria:")])]),a("div",{staticClass:"row"},[a("h-input",{attrs:{value:"txtName","float-label":"Nome"},model:{value:t.form.nome,callback:function(o){t.$set(t.form,"nome",o)},expression:"form.nome"}})],1),a("div",{staticClass:"row h-pt-md flex flex-justify-center"},[a("h-btn",{attrs:{contained:"",label:"Criar"},on:{click:t.criarCategoria}}),a("h-btn",{staticClass:"h-pl-md",attrs:{contained:"",label:"Close"},on:{click:function(o){t.abrirModal=!1}}})],1)])]),a("h-btn-float",{staticClass:"bottom-right-fixed",staticStyle:{right:"18px",bottom:"18px"},attrs:{minifloat:"",icon:["fas","plus"],bgcolor:"bg-primary","text-color":"text-white"},on:{click:function(o){t.abrirModal=!0}}})],1)},e=[],n=(a("7514"),a("cadf"),a("551c"),a("14b2")),r=a("5588"),s=a("9edf"),c=a("f160"),l=a("42d1"),m=a("379a"),f={components:{HTable:r["a"],HModal:s["a"],HBtn:c["a"],HBtnFloat:m["a"],HInput:l["a"]},data:function(){return{form:{id:0,nome:"",objectId:null},registros:[],modoLista:!0,colColor:"#3c294d",colunas:[],abrirModal:!1,tableColumns:[{name:"objectId",alignment:"right"},{name:"nome",alignment:"center"}]}},created:function(){this.listarCategorias()},mounted:function(){},methods:{novo:function(){this.limparForm(),this.modoLista=!1,this.abrirModal=!0},criarCategoria:function(){var t=this,o=new n["a"];o.set("nome",this.form.nome),o.save().then(function(o){var a=o.toJSON();a.object=o,t.registros.push(a),t.abrirModal=!1,t.modoLista=!0,t.limparForm()}).catch(function(o){t.$q.notify({message:"Nao foi possivel salvar: "+o.message,color:"negative",position:"bottom-left"})})},cancelar:function(){this.limparForm(),this.modoLista=!0},limparForm:function(){this.form.objectId=null,this.form.nome="",this.form.index=-1},editar:function(t){this.limparForm(),this.modoLista=!1,this.form.objectId=t.row.objectId,this.form.nome=t.row.nome,this.form.index=t.row_index,this.abrirModal=!0},salvarCategoria:function(){var t=this,o=n["a"].createWithoutData(this.form.objectId);o.set("nome",this.form.nome),o.save().then(function(o){t.registros[t.form.index].nome=t.form.nome,t.abrirModal=!1,t.modoLista=!0,t.limparForm()}).catch(function(o){t.$q.notify({message:"Nao foi possivel salvar: "+o.message,color:"negative",position:"bottom-left"})})},excluir:function(t){var o=this;t.object.destroy({success:function(t){o.listarCategorias()},error:function(t,o){this.$q.notify({message:"Error: "+o.message,color:"negative",position:"bottom-left"})}})},listarCategorias:function(){var t=this,o=this.$parse,a=new o.Query(n["a"]);a.ascending("nome"),a.find().then(function(o){for(var a=o.map(function(t){return t.toJSON()}),i=0;i<a.length;i++)t.registros.push({objectId:a[i].objectId,nome:a[i].nome})}).catch(function(t){console.log("erro: "+t)})}}},d=f,u=(a("845d"),a("2877")),h=Object(u["a"])(d,i,e,!1,null,null,null);o["default"]=h.exports}}]);
//# sourceMappingURL=chunk-056f.558189e5.js.map